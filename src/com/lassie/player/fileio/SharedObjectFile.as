package com.lassie.player.fileio{	import flash.net.SharedObject;	import flash.events.Event;	import com.lassie.utils.ObjectUtil;	final public class SharedObjectFile extends FileIO	{		private var _so:SharedObject;		private var _loaded:Boolean = false;		public function SharedObjectFile($uri:String):void {			super($uri);			load();		}		override public function destroy():void {			super.destroy();			_so = null;		}		/**		* Loads object from the specified URI.		*/		override public function load():void		{			if (!_loaded) {				_so = SharedObject.getLocal( this.uri );				data = (_so.data.cache != undefined) ? ObjectUtil.clone(_so.data.cache) : new Object();				_loaded = true;			}			_onLoadComplete();		}		/**		* Saves data object to the currently assigned URI.		*/		override public function save():void		{			_so.data.cache = getCopy();			_so.flush();			_onSaveComplete();		}		/**		* Clears data object from the currently assigned URI.		*/		override public function clear():void		{			_so.clear();			_onClearComplete();		}	}}