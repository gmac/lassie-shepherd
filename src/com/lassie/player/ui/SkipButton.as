/*** Lassie Engine Game Player* @author Greg MacWilliam.*/package com.lassie.player.ui{	import com.lassie.player.control.Process;	import com.lassie.player.core.ISkipButton;	import flash.display.MovieClip;	import flash.events.MouseEvent;		final public class SkipButton extends UILayer implements ISkipButton	{		// private		private var _controlEnabled:Boolean = false;		private var _hovering:Boolean = false;				public function SkipButton($display:MovieClip):void		{			super($display);			$display.stop();						mouseEnabled = true;			mouseChildren = false;			tweenType = UITweenType.ALPHA;			hide(false);		}				override public function toString():String {			return "[SkipButton] ";		}				override protected function _finit():void {					}		override public function destroy():void {			super.destroy();			enabled = false;		}			//-------------------------------------------------	// Interface properties	//-------------------------------------------------					override public function set enabled($enable:Boolean):void		{			if (!_controlEnabled && $enable)			{				// Enable lock				stage.addEventListener(MouseEvent.MOUSE_DOWN, this._onMouseClick, false, 0, true);				stage.addEventListener(MouseEvent.MOUSE_MOVE, this._onMouseMove, false, 0, true);				show();			}			else if (_controlEnabled && !$enable)			{				// Disable lock				stage.removeEventListener(MouseEvent.MOUSE_DOWN, this._onMouseClick);				stage.removeEventListener(MouseEvent.MOUSE_MOVE, this._onMouseMove);				hide();			}						_hovering = false;			_controlEnabled = $enable;			super.enabled = $enable;		}				private function _testHit():Boolean {		  return this.hitTestPoint(stage.mouseX, stage.mouseY, true);		}			//-------------------------------------------------	// Event handlers	//-------------------------------------------------		  	  /**		* Responds to mouse movement for highlighting roll state.		*/		private function _onMouseMove($event:MouseEvent):void {		  var $hit = _testHit();		  			if (!_hovering && $hit) {				uiCursor.setAbsoluteHover(true);			} else if (_hovering && !$hit) {			  uiCursor.setAbsoluteHover(false);			}						_hovering = $hit;		}				/**		* Responds to the cursor clicking on the button.		*/		private function _onMouseClick($event:MouseEvent):void {			if (_controlEnabled && _testHit()) {				Process.skip();			}		}	}}