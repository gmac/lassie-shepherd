/*** Lassie Engine Game Player* @author Greg MacWilliam.*/package com.lassie.player.control{	import com.lassie.player.logic.LogicParser;	final internal class ScriptParseControl extends ProcessCommand	{		/**		* <scriptParse>		*  <inventory target="%*[_currentInven]*%" add="ball"/>		* </scriptParse>		*/		public function ScriptParseControl():void		{			super();		}	//-------------------------------------------------	// Process methods	//-------------------------------------------------		override public function toString():String {			return "[ScriptParseControl]";		}	//-------------------------------------------------	// Control methods	//-------------------------------------------------		override protected function _run():void		{			var $xml:XML;			try {				$xml = new XML( '<'+CommandName.GENERIC+'>'+ LogicParser.parseFields(_sourceXML.toString()) +'</'+CommandName.GENERIC+'>' );			} catch ($error:Error) {				trace("invalid parse expression.");			}			if (!!$xml) {				parentProcess.addScript($xml, true);			}			_complete();		}		override public function skip():void {			_run();		}	}}